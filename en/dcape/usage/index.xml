<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Usage on DoPoS</title><link>http://dopos.github.io/en/dcape/usage/</link><description>Recent content in Usage on DoPoS</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>&amp;copy;{year}, All Rights Reserved</copyright><lastBuildDate>Tue, 28 Jan 2020 00:39:06 +0900</lastBuildDate><atom:link href="http://dopos.github.io/en/dcape/usage/index.xml" rel="self" type="application/rss+xml"/><item><title>Приложения</title><link>http://dopos.github.io/en/dcape/usage/apps/</link><pubDate>Tue, 28 Jan 2020 00:36:14 +0900</pubDate><guid>http://dopos.github.io/en/dcape/usage/apps/</guid><description>Введение Dcape v2 предназначен для построения gitops (CI/CD) решений, в которых на каждом сервере установлен dcape и на одном - web-сервис git (например: gitea), который по факту изменений в репозитории активирует drone на присоединенных серверах.
После развёртывания сервисов git/drone, задача dcape уже решена, но возникает возможность добавить в деплой:
docker-compose.yml Makefile Эти файлы добавляются в образ dcape-compose, поэтому доступны и на хостовой системе и при развёртывании. Для работы с ними в Makefile приложения надо добавить директивы:</description></item><item><title>Обновление</title><link>http://dopos.github.io/en/dcape/usage/update/</link><pubDate>Tue, 28 Jan 2020 00:39:06 +0900</pubDate><guid>http://dopos.github.io/en/dcape/usage/update/</guid><description>Если dcape был установлен командой git clone, для его обновления используется команда git pull, после выполнения которой необходимо обновить файл .env
Обновление файла .env При обновлении проекта возможно появление новых переменных в .env файле.
Алгоритм обновления .env с сохранением старых настроек:
1 2 mv .env .env.bak make init Другой вариант:
1 2 mv .env .env.1019 make init CFG_BAK=.env.1019 Все совпадающие значения будут взяты из .</description></item></channel></rss>