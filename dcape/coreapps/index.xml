<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Сервисы ядра on dopos</title><link>https://dopos.github.io/dcape/coreapps/</link><description>Recent content in Сервисы ядра on dopos</description><generator>Hugo -- gohugo.io</generator><language>ru</language><copyright>&amp;copy;{year}, All Rights Reserved</copyright><lastBuildDate>Fri, 28 Feb 2020 10:08:56 +0900</lastBuildDate><atom:link href="https://dopos.github.io/dcape/coreapps/index.xml" rel="self" type="application/rss+xml"/><item><title>router</title><link>https://dopos.github.io/dcape/coreapps/router/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/router/</guid><description>Repo: dcape-app-traefik
Роль в dcape Сервис Docker images router traefik traefik Назначение Агрегация и проксирование www-сервисов развернутых приложений по заданному имени с поддержкой сертификатов Let&amp;rsquo;s Encrypt
Traefik - ключевой сервис dcape. Он решает следующие задачи:
при запуске контейнера проанализировать его метки (label) и добавить контейнер в систему проксирования внешних http(s) запросов, определяя целевой контейнер по имени хоста если конфигурацией предусмотрена работа через TLS - проверить наличие сертификата и, при необходимости, получить или обновить его через сервис Let&amp;rsquo;s Encrypt Особенности Варианты файла конфигурации В составе dcape есть три варианта файла конфигурации traefik:</description></item><item><title>db</title><link>https://dopos.github.io/dcape/coreapps/db/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/db/</guid><description>Repo: dcape-app-postgres
Роль в dcape Сервис Docker image db postgresql / Citus postgres / citus Назначение Размещение баз данных приложений, которым требуется СУБД.
СУБД postgresql используется следующими сервисами dcape:
gitea woodpecker enfist powerdns Кроме этого, контейнер доступен для других приложений, развертываемых под dcape.
Особенности Размещение файлов Постоянные данные контейнера размещаются в каталоге var/db в следующих подкаталогах:
data - внутренние файлы postgresql init - скрипты, которые выполняются при старте контейнера backup - размещение дампов баз для импорта/экспорта conf.</description></item><item><title>vcs</title><link>https://dopos.github.io/dcape/coreapps/vcs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/vcs/</guid><description> Repo: dcape-app-gitea
Роль в dcape Сервис Docker images vcs gitea gitea Назначение Git совместимый сервис для работы с репозиториями (если используется несколько серверов, разворачивается только на одном)/
Gitea - это сервис управления git-репозиториями, который поддерживает
интеграцию с сервисом развертывания приложений woodpecker интеграцию с narra по протоколу OAuth2</description></item><item><title>cicd</title><link>https://dopos.github.io/dcape/coreapps/cicd/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/cicd/</guid><description>Repo: dcape-app-woodpecker
Роль в dcape Сервис Docker images cicd Woodpecker CI server, agent Назначение Деплой приложений при получении webhook от VCS.
Как это работает Приложения (собственные исходные тексты или файлы конфигурации стороннего ПО) размещаются в репозитории на github.com или аналогичном сервисе управления git-репозиториями (может использоваться встроенное приложение gitea, или другой аналогичный сервис). При установке CI/CD указывается адрес сервиса управления git-репозиториями В интерфейсе CI/CD активируется нужный git-репозиторий При пуше коммита в репозиторий, сервис управления (VCS) активирует webhook всех подключенных экземпляров CI/CD Webhook CI/CD клонирует репозиторий и выполняет инструкции из .</description></item><item><title>config</title><link>https://dopos.github.io/dcape/coreapps/config/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/config/</guid><description>Repo: dcape-app-enfist
Роль в dcape Сервис Docker image config enfist app-enfist Назначение Enfist - это сервис хранения конфигураций приложений. Конфигурации хранятся в БД в виде Key-value таблицы, где ключ (key) формируется из адреса git репозитория organization--repo_name--branch (организация--проект--ветка), а значение (value) - содержимое .env файла.
Доступ к хранилищу ограничивается narra и осуществляется через фронтенд dcape.
Кроме веб-интерфейса, работа с конфигурациями запуска может осуществляться посредством dcape-config-cli.
Примеры команд, доступных после клонирования (git clone) и настройки (make .</description></item><item><title>auth</title><link>https://dopos.github.io/dcape/coreapps/auth/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/auth/</guid><description> Repo: dcape-app-narra
Роль в dcape Сервис Docker image auth narra ghcr.io/dopos/narra Назначение Сервис OAuth2 авторизации, который разрешает доступ к ресурсу только участникам заданной в настройках организации gitea.
Ресурсы dcape с ограниченным доступом фронтенд dcape - список развернутых на сервере приложений и сервисов настройки приложений dcape router dasboard статистика ns Подключение авторизации к приложениям dcape docker-compose.yml
1 2 3 4 services: app: labels: - &amp;#34;traefik.http.routers.${APP_TAG}.middlewares=narra&amp;#34; # Require gitea auth</description></item><item><title>ns</title><link>https://dopos.github.io/dcape/coreapps/ns/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/ns/</guid><description>Repo: dcape-app-powerdns
Роль в dcape Сервис Docker images ns PowerDNS ghcr.io/dopos/powerdns-alpine Назначение Wildcard-DNS для сертификатов LetsEncrypt Сервис DNS Сервис может быть развернут как отдельное приложение dcape.</description></item><item><title>manager</title><link>https://dopos.github.io/dcape/coreapps/manager/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://dopos.github.io/dcape/coreapps/manager/</guid><description>Repo: dcape-app-portainer
Роль в dcape Сервис Docker image manager portainer portainer-ce Назначение Инструмент для управления инфраструктурой docker (образами, контейнерами, томами и т.д.) с помощью браузера.
Он не используется никакими другими сервисами dcape и включен для удобства эксплуатации серверов.</description></item></channel></rss>